<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
    </head>
    <body>
        <link
            rel="stylesheet"
            href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
        />
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
        <script src="https://cdn.tailwindcss.com"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.3.0/datepicker.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-element-bundle.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>


        <header 
            class="fixed flex justify-between p-5 w-full bg-white z-50"
        >
            <div>
                <span class="text-4xl text-[#74cfca] font-bold">CAMP</span> <span class="text-2xl">*</span> <span class="text-4xl text-[#74cfca] font-bold">SCORE</span>
            </div>

            <div class="flex justify-start">   
                <div date-rangepicker date="sysdate" class="flex items-center relative">
                    <div class="relative">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">

                    </div>
                    <div>
                    <input name="start" inline-datepicker datepicker-format="mm/dd/yyyy" type="text" class="bg-gray-50 border rounded-l-lg border-gray-300 text-gray-900 text-sm
                                                            focus:ring-blue-500 focus:border-blue-500 
                                                                block w-full ps-10 p-2.5  
                                                            " 
                                placeholder="">
                            </input>
                    </div>         
                    </div>
                    <div class="relative">
                    <div class="absolute inset-y-0 start-0 flex items-center ps-3 pointer-events-none">
                    </div>
                    <input name="end" type="text"  class="bg-gray-50 border border-gray-300 text-gray-900 text-sm focus:ring-blue-500 
                                                            focus:border-blue-500 block w-full ps-10 p-2.5" 
                                placeholder="">
                </div>
                <div>
                    <input name="지역" type="text" class="bg-gray-50 border rounded-r-lg border-gray-300 text-gray-900 text-sm  focus:ring-blue-500 
                    focus:border-blue-500 block w-full ps-10 p-2.5">
                </div> 
                
                </div>
                <div class= "flex relative items-center">   
                    <button id="headerSearchButton" type="submit" onclick="search()" class="bg-[#eeeeee] hover:bg-[#dddddd] 
                                                                    w-10 h-10    rounded-full
                                                                    ">
                        <svg viewBox="-5 -5  36 36" fill="none" xmlns="http://www.w3.org/2000/svg" class="">
                            <path d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
                            stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                                            </svg> 
                    </button>
                </div>
            </div>                                                                 
            <div>
                <button class="bg-[#eeeeee] hover:bg-[#dddddd] w-full h-full px-10 rounded-lg">로그인</button>
            </div>
        </header>

        <div class="pt-20 z-10">    
            <!-- 이미지 슬라이드 / 검색 -->
            <div class="w-full">
                <div class="swiper">
                    <swiper-container class="mySwiper" pagination="true" pagination-clickable="true" navigation="true" space-between="0"
                    centered-slides="true" autoplay-delay="2500" autoplay-disable-on-interaction="false">
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                        <swiper-slide>
                            <img src="images/gapyung67.png" class="w-full">
                        </swiper-slide>
                    </swiper-container>
                </div>
              
                <div class="relative w-3/5 -translate-y-1/2 mx-auto bg-[#ffffff] border-2 border-black-100 z-30 flex justify-center p-10">
                    <form class="flex justify-center flex-col 2xl:flex-row gap-5 w-full" onsubmit="search(e)">
                        <input 
                            type="text"
                            id="campNameSearch"
                            placeholder="이름"
                            class="bg-[#E8E8E8] text-gray-900 rounded-lg p-5 focus:ring-blue-500 focus:border-blue-500"
                        >

                        <div date-rangepicker class="flex w-full">
                            <input 
                                id="startDate" 
                                name="start" 
                                type="text" 
                                class="
                                    w-1/2
                                    bg-[#E8E8E8] rounded-l-lg 
                                    text-gray-900 text-sm 
                                    focus:ring-blue-500 focus:border-blue-500 p-5 text-right
                                " 
                                placeholder="날짜"
                            >

                            <input 
                                id="endDate"
                                name="end"
                                type="text"
                                class="
                                w-1/2
                                    bg-[#E8E8E8] rounded-r-lg 
                                    text-gray-900 text-sm  
                                    focus:ring-blue-500 focus:border-blue-500 p-5 text-left
                                " 
                                placeholder="날짜"
                            >
                        </div> 
    
                        <div class="grid grid-cols-2 w-full">
                            <select id="campingRegion" name="지역" type="text" class="bg-[#E8E8E8] rounded-lg  
                                        border  border-gray-300 text-gray-900 text-sm  focus:ring-blue-500 
                                        focus:border-blue-500 p-5 dark:bg-gray-700"
                                        placeholder="지역">
                                <option value="" selected>지역</option>
                                <option value="gyeonggi">경기도</option>
                                <option value="gangwon">강원도</option>
                                <option value="chungcheongnam">충청남도</option>
                                <option value="chungcheongbuk">충청북도</option>
                                <option value="jeollanam">전라남도</option>
                                <option value="jeollabuk">전라북도</option>
                                <option value="gyeongsangnam">경상남도</option>
                                <option value="gyeongsangbuk">경상북도</option>
                                <option value="jeju">제주</option>
                            </select>

                            <select id="campingType" name="종류" type="text" class="bg-[#E8E8E8] rounded-lg
                                        border  border-gray-300 text-gray-900 text-sm  focus:ring-blue-500 
                                        focus:border-blue-500 block w-30 p-5"
                                                    placeholder="종류">
                                <option selected>종류</option>
                                <option value="camp">캠핑</option>
                                <option value="caravan">카라반</option>
                                <option value="car">차박</option>
                                <option value="gramping">글램핑</option>
                            </select> 
                        </div>
                        <div>
                            <button type="submit" class="bg-[#eeeeee] hover:bg-[#dddddd] w-full 2xl:w-16 h-16 rounded-full">
                                <svg viewBox="-5 -5  36 36" fill="none" xmlns="http://www.w3.org/2000/svg" class="hidden 2xl:inline">
                                    <path d="M15.7955 15.8111L21 21M18 10.5C18 14.6421 14.6421 18 10.5 18C6.35786 18 3 14.6421 3 10.5C3 6.35786 6.35786 3 10.5 3C14.6421 3 18 6.35786 18 10.5Z"
                                    stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                                <span class="inline 2xl:hidden text-center">검색</span>
                            </button>
                        </div>
                        
                    </form>

                </div>              
            </div>
        </div>

     

        
            <!-- 날씨 -->
            <div class="relative w-full">
                <div class="  h-96 w-10/12 mx-auto bg-[#ffffff] border-2 border-black-100 z-30 py-5 rounded-lg px-5">
                            <div id="weather-list" class="flex flex-row">     
                            </div>
                </div>
            </div>
            <!-- 추천 캠핑장 / 추천 관광지 -->
            <div class>
                <label for="recmdCamp" class="justify-start block mb-2 text-4xl font-bold text-gray-900 dark:text-white pt-10">추천 캠핑장</label>
                <div class="grid md:grid-cols-4 gap-4 px-20 ">
                    <div>
                        <img class="h-auto max-w-full rounded-lg" src="images/gapyung67.webp" alt="">
                        <label for="campExp1" class="text-center block mb-2 text-md  font-bold text-gray-900 dark:text-white px-10 py-5">가평67캠핑장</label>
                    </div>
                    <div>
                        <img class="h-auto max-w-full rounded-lg" src="images/camp2.jpg" alt="">
                        <label for="campExp1" class="text-center block mb-2 text-md  font-bold text-gray-900 dark:text-white px-10 py-5">가평67캠핑장</label>
                    </div>
                    <div>
                        <img class="h-auto max-w-full rounded-lg" src="images/camp3.webp.jpg" alt="">
                        <label for="campExp1" class="text-center block mb-2 text-md  font-bold text-gray-900 dark:text-white px-10 py-5">가평67캠핑장</label>
                    </div>
                    <div>
                        <img class="h-auto max-w-full rounded-lg" src="images/camp4.jpg" alt="">
                        <label for="campExp1" class="text-center block mb-2 text-md  font-bold text-gray-900 dark:text-white px-10 py-5">가평67캠핑장</label>
                    </div>
                </div>
             <div>
                    <label for="recmdTour" class="block mb-2 text-4xl font-bold text-gray-900 dark:text-white px-10 pt-40 py-5" >추천 관광지</label>
                    <div class="grid md:grid-cols-4 gap-4 px-20">
                        <div>
                            <img class="h-auto max-w-full rounded-lg" src="images/tour1.jpg" alt="">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg" src="images/tour2.bmp" alt="">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg" src="images/tour3.jpg" alt="">
                        </div>
                        <div>
                            <img class="h-auto max-w-full rounded-lg" src="images/tour4.jpg" alt="">
                        </div>
                    </div>     
            </div>
        </div>
        <script>
            function campdate() {
            const startdate = document.getElementById("startDate").value;
            const enddate = document.getElementById("endDate").value;  
            }
            function search1() {
               const campname = document.getElementById("campNameSearch").value;
               const campregion = document.getElementById("campingRegion").value;
               const camptype = document.getElementById("campingType").value; 
               alert(campname);
            }
            function weatherdata(){
            	
            	
            }
            async function search() {
                
                const res = await fetch('http://localhost:80/get/weather');
                const resJson = await res.json();

             const amtp3 = (resJson.item3.tp3).substring(0, 2);
                
                const campname = document.getElementById("campNameSearch").value;
                const campregion = document.getElementById("campingRegion").value;
                const camptype = document.getElementById("campingType").value; 
    
            
		
            const data = [
                {
                    weather: resJson.item3.wc0,
                    temp: 10,
                    temp2:70,
                    prec:20,
                    prec2:30,
                },
                {
                    weather: resJson.item3.wc1,
                    temp: 20,
                    temp2:60,
                    prec:80,
                    prec2:90,
                },
                {
                    weather: resJson.item3.wc2,
                    temp: 30,
                    temp2:50,
                    prec:40,
                    prec2:40,
                },
                {
                    weather: resJson.item3.wc3,
                    temp: (resJson.item3.tp3).substring(0, 2),
                    temp2:(resJson.item3.tp3).slice(2),
                    prec:(resJson.item3.rp3).substring(0, 2),
                    prec2:(resJson.item3.rp3).slice(-2),
                },
                {
                    weather: resJson.item3.wc4,
                    temp: (resJson.item3.tp4).substring(0, 2),
                    temp2:(resJson.item3.tp4).slice(2),
                    prec:(resJson.item3.rp4).substring(0, 2),
                    prec2:(resJson.item3.rp4).slice(-2),
                },
                {
                    weather: resJson.item3.wc5,
                    temp: (resJson.item3.tp5).substring(0, 2),
                    temp2:(resJson.item3.tp5).slice(2),
                    prec:(resJson.item3.rp5).substring(0, 2),
                    prec2:(resJson.item3.rp5).slice(-2),
                },
                {
                    weather: resJson.item3.wc6,
                    temp: (resJson.item3.tp6).substring(0, 2),
                    temp2:(resJson.item3.tp6).slice(2),
                    prec:(resJson.item3.rp6).substring(0, 2),
                    prec2:(resJson.item3.rp6).slice(-2),
                }
            ];

            const weatherListTag = document.getElementById("weather-list");
            let innerHTML = '';
			
            
            var dtoday = new Date();
            
            var month = ('0' + (dtoday.getMonth() + 1)).slice(-2);
            var date = ('0' + dtoday.getDate()).slice(-2);
            
            var arrDayStr = ['일','월','화','수','목','금','토']; 
            var tday = dtoday.getDay();	
           
            
             for(let i = 0; i<7;i++){ 
            	const weatherData = data[i];
            	const imgSrc = getImgSrc(weatherData.weather);
            	const temp = weatherData.temp;
            	const temp2 = weatherData.temp2;
            	const prec = weatherData.prec;
            	const prec2 = weatherData.prec2;
            	var dt = ("0" + (dtoday.getDate()+i)).slice(-2); 
            	var td = tday + i;	 

          	 if(td > 6){
          		 
          			td =0;
          		}
   
          
            	 innerHTML += ` 
       		
	            <div class="flex flex-row  h-full w-32 mr-10 pt-10 items-center ">
            		<div class="flex flex-col w-32">
		               <label for="" class="block text-lg font-bold text-gray-900 mx-auto"><span class="ml-2 text-xl"><span class="ml-1">${arrDayStr[td]}</span><br>${month}.${dt}</label>
		                <div class="h-20 w-40 flex flex-row items-center mt-5 ">
		                    <img src="${imgSrc}" class="w-16 h-16 mx-auto">
		                    <img src="${imgSrc}" class="w-16 h-16 mx-auto">
		                </div>
		                <div class="flex flex-row mx-auto items-center mt-3">
		                    <span class="text-[#45A6FF] font-md text-2xl">${temp}°</span>
		                    <span class="text-[#959FA9] text-2xl">/</span>
		                    <span class="text-[#F42E2E] font-bold text-2xl">${temp2}°</span>
		                </div>
		                <div class="flex flex-row mx-auto items-center mt-5 font-bold">
		                    <span class="text-[#3B9DE3] mr-2">${prec}%</span>
		                    <span class="text-[#3B9DE3]">${prec2}%</span>
		                </div>
	                </div>
	             </div>
            `;
             }
            
            
            weatherListTag.innerHTML = innerHTML;

            function getImgSrc(weather){	
                switch(weather){
                	case 'WB01|WB01':
                		return 'images/sunny.png';
                		break;
                	case 'WB02|WB02':
                		return 'images/partly-cloudy.png';
                		break;
                	case 'WB03|WB03':
                		return 'images/cloudy(2).png';
                		break;
                	case 'WB04|WB04':
                		return 'images/cloudy.png';
                		break;
                    case 'sunny' : 
                        return 'images/sunny.png';
                        break;
                    case 'rainy': 
                        return 'images/rain.png';
                        break;
                    case 'cloudy': 
                        return 'images/cloudy.png';
                        break;
                    default :
                        return 'images/raindrop.png';
             	}
           
                    
            	}
            }
            search();
        </script>
    </body>
</html>